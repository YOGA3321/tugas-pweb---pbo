<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dokumentasi - Tugas 11 (Pertemuan 13)</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../../css/style.css">

    <style>
        /* CSS untuk Tombol Copy */
        .code-block-container {
            position: relative;
            margin-bottom: 20px;
        }
        .code-block-container button {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            background-color: #555;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            z-index: 10;
        }
        .code-block-container button:hover {
            background-color: var(--accent-color);
        }

        /* --- CSS TAMBAHAN UNTUK MODAL / POP-UP FOTO --- */
        
        /* Gambar agar kursor berubah jadi pointer saat di-hover */
        .konten-tugas img {
            cursor: pointer;
            transition: 0.3s;
        }
        .konten-tugas img:hover {
            opacity: 0.7;
        }

        /* Latar Belakang Modal (Hitam Transparan) */
        .modal {
            display: none; /* Sembunyikan secara default */
            position: fixed; 
            z-index: 1000; /* Pastikan di paling atas */
            padding-top: 50px; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.9); 
        }

        /* Konten Gambar di Dalam Modal */
        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 900px;
            max-height: 80vh;
            object-fit: contain;
            animation-name: zoom;
            animation-duration: 0.6s;
        }

        /* Tombol Close (X) */
        .modal-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        /* Animasi Zoom saat dibuka */
        @keyframes zoom {
            from {transform:scale(0)} 
            to {transform:scale(1)}
        }

        /* Responsif untuk layar kecil */
        @media only screen and (max-width: 700px){
            .modal-content {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <a href="../" class="tombol-kembali">‚Üê Kembali ke Daftar Tugas</a>

        <div class="konten-tugas">
            
            <h1>Tugas 11 (Pertemuan 13): Pemrograman GUI</h1>
            <h3>Nama: Ageng Prayogo</h3>
            <h3>NRP: 5025241225</h3>
            <h3>Kelas: B</h3>
            <p class="meta-info">Tugas ini bertujuan untuk mengimplementasikan antarmuka grafis (GUI) menggunakan Java Swing. Proyek ini menghubungkan sistem login sederhana dengan aplikasi penampil gambar (Image Viewer).</p>
            <hr>

            <h2>Skenario Pengujian</h2>
            <p>Aplikasi terdiri dari dua frame yang saling terhubung:</p>
            <ol>
                <li><strong>Login:</strong> Pengguna memasukkan username "admin" dan password "admin".</li>
                <li><strong>Transisi:</strong> Jika login sukses, frame login tertutup dan frame Image Viewer terbuka.</li>
                <li><strong>Image Viewer:</strong> Pengguna dapat membuka file gambar dari direktori komputer.</li>
            </ol>

            <h2>Hasil Aplikasi</h2>
            <p><em>Klik gambar untuk memperbesar.</em></p>
            
            <h3>1. Login Frame</h3>
            <p>Tampilan awal saat program dijalankan.</p>
            <img src="../../img/55.png" alt="Screenshot Login Frame" onclick="openModal(this)">
            
            <h3>2. Image Viewer (Setelah Login)</h3>
            <p>Tampilan setelah berhasil login dan memilih gambar.</p>
            <img src="../../img/53.png" alt="Screenshot Image Viewer" onclick="openModal(this)">
            
            <hr>

            <h2>Source Code</h2>

            <h3>Kelas: LoginFrame.java</h3>
            <p>Menangani validasi user dan transisi ke ImageViewer.</p>
            <div class="code-block-container">
                <button onclick="copyCode(this, 'loginCode')">Copy</button>
                <pre><code id="loginCode">
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class LoginFrame extends JFrame implements ActionListener {
    private JTextField textUser;
    private JPasswordField textPass;
    private JButton buttonLogin;

    public LoginFrame() {
        setTitle("Login System");
        // Ukuran diperbesar agar nyaman
        setSize(400, 250);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setLayout(new GridLayout(4, 1));

        JPanel panelInput = new JPanel(new GridLayout(2, 2, 10, 10));
        panelInput.setBorder(BorderFactory.createEmptyBorder(20, 20, 10, 20));
        
        panelInput.add(new JLabel("Username:"));
        textUser = new JTextField();
        panelInput.add(textUser);

        panelInput.add(new JLabel("Password:"));
        textPass = new JPasswordField();
        panelInput.add(textPass);

        add(panelInput);
        
        JPanel panelButton = new JPanel();
        buttonLogin = new JButton("Login");
        buttonLogin.setPreferredSize(new Dimension(100, 30));
        buttonLogin.addActionListener(this);
        panelButton.add(buttonLogin);
        add(panelButton);

        setVisible(true);
    }

    public void actionPerformed(ActionEvent e) {
        String user = textUser.getText();
        String pass = new String(textPass.getPassword());

        if (user.equals("admin") && pass.equals("admin")) {
            JOptionPane.showMessageDialog(this, "Login Berhasil! Selamat Datang.");
            this.dispose();
            new ImageViewer();
        } else {
            JOptionPane.showMessageDialog(this, "Username atau Password salah!", "Akses Ditolak", JOptionPane.ERROR_MESSAGE);
        }
    }
    
    public static void main(String[] args) {
        new LoginFrame();
    }
}
                </code></pre>
            </div>

            <h3>Kelas: ImageViewer.java</h3>
            <p>Menangani pembukaan file gambar dan penampilannya di layar.</p>
            <div class="code-block-container">
                <button onclick="copyCode(this, 'imageCode')">Copy</button>
                <pre><code id="imageCode">
import javax.swing.*;
import java.awt.*;
import java.io.File;

public class ImageViewer extends JFrame {
    private JLabel imageLabel;
    private JFileChooser fileChooser;

    public ImageViewer() {
        setTitle("Simple Image Viewer");
        setSize(800, 600);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        
        JMenuBar menuBar = new JMenuBar();
        JMenu menuFile = new JMenu("File");
        JMenuItem itemOpen = new JMenuItem("Open Image");
        JMenuItem itemExit = new JMenuItem("Logout");

        itemOpen.addActionListener(e -> bukaFile());
        itemExit.addActionListener(e -> {
            this.dispose();
            new LoginFrame();
        });

        menuFile.add(itemOpen);
        menuFile.addSeparator();
        menuFile.add(itemExit);
        menuBar.add(menuFile);
        setJMenuBar(menuBar);

        imageLabel = new JLabel("Belum ada gambar. Klik File > Open Image", SwingConstants.CENTER);
        imageLabel.setFont(new Font("Arial", Font.BOLD, 14));
        add(new JScrollPane(imageLabel));
        fileChooser = new JFileChooser();
        
        setVisible(true);
    }

    private void bukaFile() {
        if (fileChooser.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
            File file = fileChooser.getSelectedFile();
            ImageIcon icon = new ImageIcon(file.getPath());
            
            // Logic scaling gambar agar pas window
            int w = this.getContentPane().getWidth();
            int h = this.getContentPane().getHeight();
            if (w == 0) w = 800;
            if (h == 0) h = 600;

            Image img = icon.getImage(); 
            Image newImg = img.getScaledInstance(w - 20, h - 20,  java.awt.Image.SCALE_SMOOTH); 
            imageLabel.setIcon(new ImageIcon(newImg));
            imageLabel.setText("");
            setTitle("Image Viewer - " + file.getName());
        }
    }
    
    public static void main(String[] args) {
        new ImageViewer();
    }
}
                </code></pre>
            </div>

        </div>
    </div>
    
    <div id="myModal" class="modal" onclick="closeModal()">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="img01">
    </div>

    <script>
    // Fungsi Copy Code
    function copyCode(button, elementId) {
        const codeElement = document.getElementById(elementId);
        navigator.clipboard.writeText(codeElement.innerText).then(function() {
            button.innerText = 'Copied!';
            setTimeout(function() { button.innerText = 'Copy'; }, 2000);
        }, function(err) {
            button.innerText = 'Gagal';
        });
    }

    // Fungsi Modal Gambar
    var modal = document.getElementById('myModal');
    var modalImg = document.getElementById("img01");

    function openModal(element) {
        modal.style.display = "block";
        modalImg.src = element.src;
    }

    function closeModal() {
        modal.style.display = "none";
    }
    
    // Menutup modal jika user klik di area hitam (bukan gambar)
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    </script>
</body>
</html>